var u=Object.defineProperty;var d=(i,n,t)=>n in i?u(i,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[n]=t;var a=(i,n,t)=>d(i,typeof n!="symbol"?n+"":n,t);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function t(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=t(e);fetch(e.href,o)}})();function h(){const i=document.querySelectorAll("[data-goto]");i.length>0&&i.forEach(n=>{n.addEventListener("click",t=>{const s=t.target;if(s.dataset.goto&&document.querySelector(s.dataset.goto)){t.preventDefault();const o=document.querySelector(s.dataset.goto).getBoundingClientRect().top+pageYOffset;window.scrollTo({top:o,behavior:"smooth"})}})})}function m(){const i=document.querySelector(".menu__body"),n=document.querySelector(".icon-menu");i&&n&&(n.addEventListener("click",()=>{i.classList.toggle("menu-open"),n.classList.toggle("menu-open"),document.body.classList.toggle("lock")}),i.addEventListener("click",t=>{t.target.classList.contains("menu__body")&&(i.classList.remove("menu-open"),n.classList.remove("menu-open"),document.body.classList.remove("lock"))}),i.querySelectorAll(".menu__link").forEach(t=>{t.addEventListener("click",()=>{i.classList.remove("menu-open"),n.classList.remove("menu-open"),document.body.classList.remove("lock")})}))}class c{constructor(){if(this.constructor===c)throw new Error("Невозможно создать экземпляр абстрактного класса BaseComponent!")}getProxyState(n){return new Proxy(n,{get:(t,s)=>t[s],set:(t,s,e)=>{const o=t[s];return t[s]=e,e!==o&&this.updateUI(),!0}})}updateUI(){throw new Error("Необходимо реализовать метод updateUI!")}}const l="[data-js-tabs]";class b extends c{constructor(t){super();a(this,"selectors",{root:l,button:"[data-js-tabs-button]",content:"[data-js-tabs-content]"});a(this,"stateClasses",{isActive:"is-active"});a(this,"stateAttributes",{ariaSelected:"aria-selected",tabIndex:"tabindex"});a(this,"previousTab",()=>{const t=this.state.activeTabIndex===0?this.limitTabsIndex:this.state.activeTabIndex-1;this.activateTab(t)});a(this,"nextTab",()=>{const t=this.state.activeTabIndex===this.limitTabsIndex?0:this.state.activeTabIndex+1;this.activateTab(t)});a(this,"firstTab",()=>{this.activateTab(0)});a(this,"lastTab",()=>{this.activateTab(this.limitTabsIndex)});a(this,"onKeyDown",t=>{const{code:s,metaKey:e}=t,o={ArrowLeft:this.previousTab,ArrowRight:this.nextTab,Home:this.firstTab,End:this.lastTab}[s];if(e&&s==="ArrowLeft"){this.firstTab();return}if(e&&s==="ArrowRight"){this.lastTab();return}o==null||o()});this.rootElement=t,this.buttonElements=this.rootElement.querySelectorAll(this.selectors.button),this.contentElements=this.rootElement.querySelectorAll(this.selectors.content),this.state=this.getProxyState({activeTabIndex:[...this.buttonElements].findIndex(s=>s.classList.contains(this.stateClasses.isActive))}),this.limitTabsIndex=this.buttonElements.length-1,this.bindEvents()}updateUI(){const{activeTabIndex:t}=this.state;this.buttonElements.forEach((s,e)=>{const o=e===t;s.classList.toggle(this.stateClasses.isActive,o),s.setAttribute(this.stateAttributes.ariaSelected,o.toString()),s.setAttribute(this.stateAttributes.tabIndex,o?"0":"-1")}),this.contentElements.forEach((s,e)=>{const o=e===t;s.classList.toggle(this.stateClasses.isActive,o)})}activateTab(t){this.state.activeTabIndex=t,this.buttonElements[t].focus()}onButtonClick(t){this.state.activeTabIndex=t}bindEvents(){this.buttonElements.forEach((t,s)=>{t.addEventListener("click",()=>this.onButtonClick(s))}),this.rootElement.addEventListener("keydown",this.onKeyDown)}}class f{constructor(){this.init()}init(){document.querySelectorAll(l).forEach(n=>{new b(n)})}}window.addEventListener("DOMContentLoaded",()=>{h(),m(),new f});
